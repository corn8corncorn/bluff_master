spring:
  application:
    name: bluff-master-backend

  datasource:
    url: jdbc:mysql://localhost:3306/bluff_master?useSSL=false&serverTimezone=Asia/Taipei&characterEncoding=UTF-8&allowPublicKeyRetrieval=true
    username: root
    password: Abc123!@#
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        format_sql: true

  redis:
    host: localhost
    port: 6379
    password:
    timeout: 3000ms
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0

  servlet:
    multipart:
      max-file-size: 100MB # 單個文件最大大小（允許上傳大圖片，後續會自動壓縮）
      max-request-size: 500MB # 整個請求最大大小（支持多文件上傳）

server:
  port: 8080
  servlet:
    context-path: /api
  tomcat:
    max-swallow-size: 100MB # Tomcat 連接器允許的最大請求體大小

# Storage Configuration
storage:
  type: local # 本地開發使用 local 模式（文件系統）
  upload-dir: ${STORAGE_UPLOAD_DIR:./uploads} # 圖片上傳目錄

# GCP Storage Configuration (可選，本地開發可暫時跳過)
gcp:
  storage:
    bucket-name: bluff-master-images
    project-id:
    credentials-path:

# Game Configuration
game:
  max-players: 10
  min-players: 4
  max-image-size: 5242880 # 5MB in bytes
  image-compression:
    min-width: 720
    max-width: 1080
  voting-timeout: 10 # seconds
  room-timeout: 10800 # 3 hours in seconds
  fake-image-url: https://picsum.photos/800/600

logging:
  level:
    com.bluffmaster: DEBUG
    org.springframework.web: INFO
    org.springframework.web.socket: DEBUG
